<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/style.css" />
    <script src="/js/jquery-3.6.0.min.js"></script>
    <title>Codey Health</title>
  </head>
  <body>
    <script>
      const notify = (msg) => {
        Toastify({
          text: msg,
        }).showToast();
      };

      function toTable(data, edit=false, header = []) {
        const keys = Object.keys(data[0]);
        let string = `<table class="table"><thead>`;
        string += `<tr>` 
        let th = (header.length == 0) ? keys : header
        th.forEach(element => {
          string += `<th>${element}</th>`;
        });
        if(edit) string+= "<th>Edit</th>";

        string += `</tr></thead><tbody>`

        for (let i = 0; i < data.length; i++) {
          string += `<tr>`
          keys.forEach(key => {
            string += `<td>${(data[i][key] != null) ? data[i][key] : "-"}</td>`;
          });
          if(edit) string+= `<td style="cursor:pointer" class=""><i class="bi bi-gear" onclick="edit(${i})"></i></td>`;
          string += `</tr>`
          
        }
        string += `</tbody></table>`

        return string;
      }
    </script>
